// testConfig.js - –¢–ï–°–¢–û–í–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
// =====================================================================
// –ò–ù–°–¢–†–£–ö–¶–ò–Ø:
// 1. –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
// 2. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º
// 3. –ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ config.js
// =====================================================================

import { createClientConfig, PRESET_CONFIGS } from './universalConfig.js';

// =====================================================================
// –¢–ï–°–¢–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò - –≠–ö–°–ü–ï–†–ò–ú–ï–ù–¢–ò–†–£–ô–¢–ï –ó–î–ï–°–¨!
// =====================================================================

const TEST_SETTINGS = {
  // üß™ –¢–ï–°–¢: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∏–∑–Ω–µ—Å–µ
  business: {
    name: 'üß™ –¢–ï–°–¢: –ü–∏—Ü—Ü–µ—Ä–∏—è "–ú–∞–º–∞ –ú–∏—è"',
    appName: '–¢–ï–°–¢: –ú–∞–º–∞ –ú–∏—è –ü–∏—Ü—Ü–∞',
    projectTitle: '–¢–ï–°–¢: –õ—É—á—à–∞—è –ø–∏—Ü—Ü–∞ –≤ –≥–æ—Ä–æ–¥–µ!',
    logoUrl: null,
    description: '–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞',
  },

  // üß™ –¢–ï–°–¢: –ö–æ–Ω—Ç–∞–∫—Ç—ã
  contact: {
    phone: '+7 (999) 999-99-99',
    email: 'test@restaurant.com',
    address: '—É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, 1',
    workingHours: '–¢–ï–°–¢: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 9:00 –¥–æ 24:00',
    website: null,
    socialMedia: {
      instagram: '@test_restaurant',
      telegram: '@test_bot'
    }
  },

  // üß™ –¢–ï–°–¢: –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ç–µ–º–∞
  theme: {
    scheme: 'purple',           // –¢–ï–°–¢: –ú–µ–Ω—è–π—Ç–µ –Ω–∞ 'orange', 'blue', 'green', 'purple', 'red'
    typography: 'elegant',      // –¢–ï–°–¢: –ú–µ–Ω—è–π—Ç–µ –Ω–∞ 'casual', 'professional', 'elegant', 'modern'
    
    // –¢–ï–°–¢: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∞)
    colors: {
      primary: '#9c27b0',      // –¢–ï–°–¢: –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
      // secondary: '#ba68c8',
      // background: '#f3e5f5'
    }
  },

  // üß™ –¢–ï–°–¢: –î–æ—Å—Ç–∞–≤–∫–∞
  delivery: {
    enabled: true,
    threshold: 1500,            // –¢–ï–°–¢: –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 1500‚ÇΩ
    cost: 150,                  // –¢–ï–°–¢: –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ 150‚ÇΩ
    currency: '‚ÇΩ',
    freeDeliveryText: '–¢–ï–°–¢: –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 1500 ‚ÇΩ',
    estimatedTime: '–¢–ï–°–¢: 25-45 –º–∏–Ω—É—Ç',
  },

  // üß™ –¢–ï–°–¢: –°–∞–º–æ–≤—ã–≤–æ–∑
  pickup: {
    enabled: true,
    estimatedTime: '–¢–ï–°–¢: 10-20 –º–∏–Ω—É—Ç',
  },

  // üß™ –¢–ï–°–¢: –ó–∞–∫–∞–∑—ã
  orders: {
    minAmount: 300,             // –¢–ï–°–¢: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑ 300‚ÇΩ
    maxAmount: 25000,           // –¢–ï–°–¢: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑ 25000‚ÇΩ
  },

  // üß™ –¢–ï–°–¢: –ú–∞—Ä–∫–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤
  products: {
    markers: {
      flash: 'üî• –ê–ö–¶–ò–Ø',        // –¢–ï–°–¢: –≠–º–æ–¥–∑–∏ –≤ –º–∞—Ä–∫–µ—Ä–∞—Ö
      hot: 'üå∂Ô∏è –û–°–¢–†–û–ï',
      new: '‚ú® –ù–û–í–ò–ù–ö–ê',
      popular: '‚≠ê –•–ò–¢',
      spicy: 'üî• –û–ì–û–ù–¨',
      vegetarian: 'ü•¨ –í–ï–ì–ê–ù',
    },
    timers: {
      flashOfferDuration: 90,   // –¢–ï–°–¢: –§–ª–µ—à-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ 90 —Å–µ–∫
      deliveryOfferDuration: 150, // –¢–ï–°–¢: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–∫–∏ 150 —Å–µ–∫
    }
  },

  // üß™ –¢–ï–°–¢: –°–∫–∏–¥–∫–∏
  discounts: {
    enabled: true,
    levels: [                   // –¢–ï–°–¢: –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Å–∫–∏–¥–æ–∫
      { threshold: 800, percent: 3, label: '–¢–ï–°–¢: –°–∫–∏–¥–∫–∞ 3%' },
      { threshold: 1500, percent: 7, label: '–¢–ï–°–¢: –°–∫–∏–¥–∫–∞ 7%' },
      { threshold: 2500, percent: 12, label: '–¢–ï–°–¢: –°–∫–∏–¥–∫–∞ 12%' },
      { threshold: 4000, percent: 18, label: '–¢–ï–°–¢: –°–∫–∏–¥–∫–∞ 18%' },
    ]
  },

  // üß™ –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
  orderStatuses: {
    enabled: ['pending', 'cooking', 'ready', 'delivering', 'delivered', 'cancelled'],
    custom: {
      pending: { label: '–¢–ï–°–¢: –ü—Ä–∏–Ω—è—Ç' },
      cooking: { label: '–¢–ï–°–¢: –ì–æ—Ç–æ–≤–∏—Ç—Å—è' },
      ready: { label: '–¢–ï–°–¢: –ì–æ—Ç–æ–≤!' },
      delivering: { label: '–¢–ï–°–¢: –í –ø—É—Ç–∏' },
      delivered: { label: '–¢–ï–°–¢: –î–æ—Å—Ç–∞–≤–ª–µ–Ω' }
    }
  },

  // üß™ –¢–ï–°–¢: –§—É–Ω–∫—Ü–∏–∏ (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–∞–∑–Ω—ã–µ)
  features: {
    // –û—Å–Ω–æ–≤–Ω—ã–µ
    ENABLE_CART: true,
    ENABLE_CHECKOUT: true,
    ENABLE_USER_REGISTRATION: false,
    
    // –î–æ—Å—Ç–∞–≤–∫–∞
    ENABLE_DELIVERY: true,
    ENABLE_PICKUP: true,
    ENABLE_DELIVERY_TRACKING: true,    // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
    
    // –ü–ª–∞—Ç–µ–∂–∏
    ENABLE_CASH_PAYMENT: true,
    ENABLE_ONLINE_PAYMENT: true,       // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—É
    ENABLE_CARD_PAYMENT: true,         // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –æ–ø–ª–∞—Ç—É –∫–∞—Ä—Ç–æ–π
    
    // –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥
    ENABLE_DISCOUNTS: true,
    ENABLE_FLASH_OFFERS: true,
    ENABLE_LOYALTY_PROGRAM: true,      // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
    ENABLE_COUPONS: true,              // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –∫—É–ø–æ–Ω—ã
    
    // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ
    ENABLE_REVIEWS: true,
    ENABLE_RATINGS: true,
    ENABLE_SHARING: true,              // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º —à–∞—Ä–∏–Ω–≥
    
    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    ENABLE_WHATSAPP_NOTIFICATIONS: true,
    ENABLE_SMS_NOTIFICATIONS: true,    // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º SMS
    ENABLE_EMAIL_NOTIFICATIONS: true,  // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º Email
    
    // –ê–¥–º–∏–Ω
    ENABLE_ADMIN_PANEL: true,
    ENABLE_INVENTORY_MANAGEMENT: true, // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
    ENABLE_REPORTING: true,            // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –æ—Ç—á–µ—Ç—ã
    
    // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
    ENABLE_ANALYTICS: true,            // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É
    
    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    ENABLE_GOOGLE_MAPS: true,          // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –∫–∞—Ä—Ç—ã
  },

  // üß™ –¢–ï–°–¢: API (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π URL)
  api: {
    baseUrl: 'https://script.google.com/macros/s/AKfycbzzjx5LgoYFNYW3FITXl26O7H3tXUSu71gQgHsyz607DD8Vnw_i_Wg8zdyqeVARAR_E/exec',
    timeout: 15000,  // –¢–ï–°–¢: –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç
  },

  integrations: {
    googleSheets: {
      enabled: true,
      spreadsheetId: 'test-spreadsheet-id',
    },
    analytics: {
      enabled: true,
      googleAnalyticsId: 'GA-TEST-123456',
    }
  },

  // üß™ –¢–ï–°–¢: –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  system: {
    AUTO_REFRESH_INTERVAL: 15000,      // –¢–ï–°–¢: –ß–∞—â–µ –æ–±–Ω–æ–≤–ª—è–µ–º (15 —Å–µ–∫)
    REQUEST_TIMEOUT: 8000,
    CACHE_EXPIRY: 120000,              // –¢–ï–°–¢: –ö—ç—à 2 –º–∏–Ω—É—Ç—ã
    DEBUG: true,                       // –¢–ï–°–¢: –í–∫–ª—é—á–∞–µ–º –æ—Ç–ª–∞–¥–∫—É
    ENABLE_LOGGING: true,
  }
};

// =====================================================================
// –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–†–ï–°–ï–¢–û–í
// =====================================================================

// –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø—Ä–µ—Å–µ—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

// –¢–ï–°–¢: –ü–∏—Ü—Ü–µ—Ä–∏—è
// const TEST_PRESET = 'pizzeria';

// –¢–ï–°–¢: –°—É—à–∏-–±–∞—Ä  
// const TEST_PRESET = 'sushi';

// –¢–ï–°–¢: –ë—É—Ä–≥–µ—Ä–Ω–∞—è
// const TEST_PRESET = 'burger';

const TEST_PRESET = null; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

// =====================================================================
// –≠–ö–°–ü–û–†–¢ –¢–ï–°–¢–û–í–û–ô –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò
// =====================================================================

let finalConfig;

if (TEST_PRESET && PRESET_CONFIGS[TEST_PRESET]) {
  // –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–µ—Å–µ—Ç —Å –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏
  const presetConfig = PRESET_CONFIGS[TEST_PRESET];
  const mergedConfig = {
    ...presetConfig,
    ...TEST_SETTINGS,
    business: { 
      ...presetConfig.business, 
      ...TEST_SETTINGS.business,
      name: `üß™ –¢–ï–°–¢: ${presetConfig.business.name}`  // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å –¢–ï–°–¢
    },
    features: { ...presetConfig.features, ...TEST_SETTINGS.features },
  };
  finalConfig = createClientConfig(mergedConfig);
} else {
  // –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  finalConfig = createClientConfig(TEST_SETTINGS);
}

export const testConfig = finalConfig;
export const config = finalConfig.getConfig();
export const theme = finalConfig.getComponentConfig('theme');
export const business = finalConfig.getComponentConfig('business');
export const features = finalConfig.getComponentConfig('features');

// =====================================================================
// –¢–ï–°–¢–û–í–´–ï –£–¢–ò–õ–ò–¢–´
// =====================================================================

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
export function logTestInfo() {
  console.group('üß™ –¢–ï–°–¢–û–í–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø');
  console.log('üìä –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:', config);
  console.log('üé® –¢–µ–º–∞:', theme);
  console.log('üè¢ –ë–∏–∑–Ω–µ—Å:', business);
  console.log('‚öôÔ∏è –§—É–Ω–∫—Ü–∏–∏:', features);
  console.log('üö© –ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏:', Object.keys(features).filter(key => features[key]));
  console.groupEnd();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
export function compareConfigs(originalConfig) {
  console.group('üîç –°–†–ê–í–ù–ï–ù–ò–ï –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ô');
  console.log('üß™ –¢–µ—Å—Ç–æ–≤–∞—è:', config.business.name);
  console.log('üì¶ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è:', originalConfig.business?.name || '–ù–µ –∑–∞–¥–∞–Ω–æ');
  console.log('üé® –¢–µ—Å—Ç–æ–≤–∞—è —Ç–µ–º–∞:', config.theme.colors.primary);
  console.log('üì¶ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ç–µ–º–∞:', originalConfig.theme?.colors?.primary || '–ù–µ –∑–∞–¥–∞–Ω–æ');
  console.groupEnd();
}

// =====================================================================
// –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ
// =====================================================================

console.log(`
üß™ –¢–ï–°–¢–û–í–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ó–ê–ì–†–£–ñ–ï–ù–ê!

üìã –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:
‚úÖ –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (purple)
‚úÖ –≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã (elegant) 
‚úÖ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã
‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã —Å —ç–º–æ–¥–∑–∏
‚úÖ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –≤–∫–ª—é—á–µ–Ω

üîß –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ TEST_SETTINGS
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ logTestInfo() –≤ –∫–æ–Ω—Å–æ–ª–∏

‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è!
–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º.
`);

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
if (typeof window !== 'undefined') {
  setTimeout(() => {
    logTestInfo();
  }, 1000);
}